<!DOCTYPE html>
<html lang="en">
<head>
  <title>POPCAT CLASSIC</title>
  <style>

    /* 1. 基本設定 */
    body {
      /* 移除預設邊距 */
      margin: 0;
      /* 設定字體 */
      font-family: sans-serif;
    }

    .container {
      /* 設定背景色 */
      background-color: #bdaa90;
      /* 防止文字被選取 */
      user-select: none;

      /* 讓內容佔滿整個視窗 */
      height: 100vh;

      /* 垂直排列內容 */
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    /* 2. 標題圖片 */
    .title {
      /* 上方間距 */
      margin-top: 2em;

      /* 寬度設定 */
      width: 80%;
      max-width: 600px;
    }

    /* 3. 貓咪圖片 */
    .cat-img {
      /* 填滿剩餘空間 */
      flex: 1;

      /* 寬度設定 */
      width: 100%;
      max-width: 800px;

      /* 背景圖片設定 */
      background-position: bottom;
      background-size: contain;
      background-repeat: no-repeat;

      /* 文字置中 */
      text-align: center;
      /* 文字樣式 */
      color: white;
      font-size: 80px;
      font-weight: 900;
      -webkit-text-stroke: 3px black;

    }

    /* 4. 貓咪狀態 */
    #p {
      background-image: url("imgs/p.png");
    }
    #op {
      background-image: url("imgs/op.png");
    }
  </style>
</head>

<body>
<div class="container">
  <img class="title" src="imgs/popcat.svg" alt="POPCAT">
  <div class="cat-img" id="p">0</div>
</div>

<script>
//用 javascript 預載張嘴圖片 op.png
  const img = new Image();
  img.src = 'imgs/op.png';

  //1.計數器初始化
    let count = 0;
  //將計數器顯示到 HTML 元素，用id抓取
  const catImg = document.getElementById('p');

  //寫一個function計數器累加
    function addCount() {
      //2.計數器累加
        count += 1;
    }
    //當按下鍵盤，和滑鼠有相同功能
    document.addEventListener('keydown', function() {
      //3.計數器累加
        addCount();
      //4. 註冊按下鍵盤的時候，更新計數器的顯示
        catImg.textContent = count;
      //切換張嘴圖片
        catImg.id = 'op';
    });
  //放開便恢復原來圖片
  document.addEventListener('keyup', function() {
    catImg.id = 'p';
  });

  //當滑鼠按下，播放pops/pop1.mp3
  document.addEventListener('keydown', function() {
    const audio = new Audio('pops/pop1.mp3');
    audio.play();
  });

    //當滑鼠按下，切換張嘴圖片
    //註冊滑鼠按下的事件
    document.addEventListener('mousedown', function() {
      //3.計數器累加
        addCount();
      //4. 註冊滑鼠按下的時候，更新計數器的顯示
        catImg.textContent = count;
      //切換張嘴圖片
        catImg.id = 'op';
    });

    //放開便恢復原來圖片
    document.addEventListener('mouseup', function() {
        catImg.id = 'p';
    });

    //當滑鼠按下，播放pops/pop1.mp3
    document.addEventListener('mousedown', function() {
        const audio = new Audio('pops/pop1.mp3');
        audio.play();
    });

</script>

</body>
</html>